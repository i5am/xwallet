# 🖥️ MacinCloud 服务管理指南

## 💰 为什么要关闭服务?

MacinCloud 按小时计费,**不关闭就会一直扣费!**

```
运行状态 → $1/小时 持续扣费 💸
关闭状态 → $0/小时 不扣费 ✅
```

**重要**: 只要服务器在运行,即使您没有连接,也会计费!

---

## 🛑 如何关闭 MacinCloud 服务

### 方法 1: 通过 MacinCloud Dashboard (推荐)

#### 步骤 1: 访问 Dashboard

```bash
# 在浏览器访问:
https://www.macincloud.com/dashboard

# 或者直接登录:
1. 访问 https://www.macincloud.com
2. 点击右上角 "Login"
3. 输入账号和密码
```

#### 步骤 2: 找到正在运行的服务器

在 Dashboard 页面,您会看到:

```
┌─────────────────────────────────────────────────────────────┐
│  My Servers                                                  │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  Server Name: Mac-XXXXXX                                    │
│  Status: 🟢 Running  ⭐ 绿色表示正在运行                     │
│  Plan: Pay As You Go ($1.00/hour)                          │
│  Started: Oct 24, 2025 2:30 PM                             │
│  Runtime: 0h 45m  ⭐ 已运行时间                              │
│  Cost: $0.75  ⭐ 已产生费用                                  │
│                                                              │
│  ┌──────────────┐  ┌──────────────┐                        │
│  │   Connect    │  │ Stop Server  │  ⭐⭐⭐ 点这个停止       │
│  └──────────────┘  └──────────────┘                        │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

#### 步骤 3: 点击 "Stop Server" 按钮

```bash
1. 找到 "Stop Server" 按钮
2. 点击按钮
3. 会弹出确认对话框:
```

```
┌─────────────────────────────────────────────────────────────┐
│  ⚠️ Confirm Stop Server                                      │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  Are you sure you want to stop this server?                 │
│                                                              │
│  All unsaved data will be lost.                             │
│  您确定要停止服务器吗?                                        │
│  所有未保存的数据将丢失。                                     │
│                                                              │
│  Runtime: 0h 45m                                            │
│  Total cost: $0.75                                          │
│                                                              │
│  [ Cancel ]                    [ Stop Server ]  ⭐ 点这个    │
└─────────────────────────────────────────────────────────────┘
```

#### 步骤 4: 确认停止

```bash
1. 确保已保存/下载所有重要文件!
2. 点击 "Stop Server" 确认
3. 等待 10-30 秒
```

#### 步骤 5: 验证已停止

服务器停止后,状态会变成:

```
┌─────────────────────────────────────────────────────────────┐
│  Server Name: Mac-XXXXXX                                    │
│  Status: ⚫ Stopped  ⭐ 灰色/黑色表示已停止                   │
│  Plan: Pay As You Go                                        │
│  Last session: 0h 45m                                       │
│  Last cost: $0.75                                           │
│                                                              │
│  ┌──────────────┐                                           │
│  │ Start Server │  ⭐ 现在只有启动按钮                        │
│  └──────────────┘                                           │
└─────────────────────────────────────────────────────────────┘
```

✅ 看到 "Stopped" 状态,说明已成功停止,不再计费!

---

### 方法 2: 通过 VNC 连接界面

如果您正在使用 VNC 连接:

```bash
1. 在 MacinCloud Dashboard 页面
2. 找到服务器控制面板
3. 点击 "Stop Server" 按钮
4. 确认停止

# 注意: VNC 连接会自动断开
```

---

## ⚠️ 停止前必做检查清单

### 在点击 "Stop Server" 之前:

- [ ] **已保存所有重要文件**
  - [ ] ios_certificate.p12 (证书文件)
  - [ ] CertificateSigningRequest.certSigningRequest (CSR)
  - [ ] Provisioning Profile (.mobileprovision)
  
- [ ] **已下载到本地 Windows**
  - [ ] 通过邮箱发送给自己
  - [ ] 或上传到云盘 (Dropbox/Google Drive)
  - [ ] 或通过 MacinCloud 文件传输功能

- [ ] **记录重要密码**
  - [ ] .p12 证书密码
  - [ ] Apple Developer 账号密码

- [ ] **确认文件已传输成功**
  - [ ] 在 Windows 上检查收到的文件
  - [ ] 验证文件大小正确

✅ 所有勾选完成后,才能安全停止服务器!

---

## 🔄 如何重新启动 MacinCloud 服务

### 需要时再次使用:

#### 步骤 1: 登录 Dashboard

```bash
https://www.macincloud.com/dashboard
```

#### 步骤 2: 启动服务器

```
┌─────────────────────────────────────────────────────────────┐
│  Server Name: Mac-XXXXXX                                    │
│  Status: ⚫ Stopped                                          │
│                                                              │
│  ┌──────────────┐                                           │
│  │ Start Server │  ⭐ 点这个启动                             │
│  └──────────────┘                                           │
└─────────────────────────────────────────────────────────────┘
```

点击 **Start Server**。

#### 步骤 3: 选择配置 (如果需要)

```
┌─────────────────────────────────────────────────────────────┐
│  Start Server                                                │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  Operating System:                                           │
│  ○ macOS Sonoma (latest)  ⭐ 推荐                           │
│  ○ macOS Ventura                                            │
│  ○ macOS Monterey                                           │
│                                                              │
│  Plan:                                                       │
│  ● Managed Server ($1.00/hour)  ⭐ 推荐                     │
│  ○ Dedicated Server ($2.00/hour)                           │
│                                                              │
│  [ Start ]  ⭐ 点这个开始                                     │
└─────────────────────────────────────────────────────────────┘
```

选择配置,点击 **Start**。

#### 步骤 4: 等待启动

```bash
# 启动过程:
Starting server... (10%)
Initializing macOS... (50%)
Installing Xcode... (80%)
Ready! (100%)

# 通常需要: 2-5 分钟
```

#### 步骤 5: 连接服务器

启动完成后:

```
┌─────────────────────────────────────────────────────────────┐
│  Status: 🟢 Running                                          │
│                                                              │
│  Connection Info:                                            │
│  VNC Address: xxx.xxx.xxx.xxx:5900                         │
│  Username: macuser                                          │
│  Password: xxxxxxxxx                                        │
│                                                              │
│  ┌──────────────────────┐  ┌──────────────┐                │
│  │ Connect in Browser   │  │ Stop Server  │                │
│  └──────────────────────┘  └──────────────┘                │
└─────────────────────────────────────────────────────────────┘
```

点击 **Connect in Browser** 或使用 VNC 客户端连接。

---

## 💰 费用管理

### 查看费用

```bash
# Dashboard → Billing → Usage History

您可以看到:
- 每次使用的时长
- 每次产生的费用
- 总余额
```

### 充值余额

```bash
# Dashboard → Billing → Add Funds

最低充值: $5
支持: 信用卡/PayPal
```

### 费用估算

```
使用时长          费用 (Pay As You Go)
─────────────────────────────────────
15 分钟           $0.25
30 分钟           $0.50
45 分钟           $0.75
1 小时            $1.00
2 小时            $2.00
5 小时            $5.00
```

**省钱技巧**:
1. ✅ 提前准备好所有需要做的事情
2. ✅ 一次性完成所有操作
3. ✅ 用完立即停止
4. ✅ 不要让服务器闲置运行

---

## 📂 文件保存策略

### ⚠️ 重要提醒:

**MacinCloud 服务器停止后,桌面文件会被删除!**

### 保存方法:

#### 方法 1: 通过邮箱 (最简单)

```bash
# 在云 Mac 上:
1. 打开 Mail 或浏览器登录邮箱
2. 新建邮件
3. 附加文件:
   - ios_certificate.p12
   - XWallet_AdHoc_Profile.mobileprovision
   - 其他重要文件
4. 发送给自己: shengq@gmail.com
5. 在 Windows 上下载附件
```

#### 方法 2: 通过云盘

```bash
# 在云 Mac 的浏览器:
1. 访问 Dropbox / Google Drive / OneDrive
2. 登录您的账号
3. 上传文件
4. 在 Windows 上下载
```

#### 方法 3: MacinCloud 文件传输

```bash
# 在 MacinCloud Dashboard:
1. 找到 "File Transfer" 功能
2. 选择要下载的文件
3. 下载到本地 Windows
```

#### 方法 4: 通过 file.io (临时分享)

```bash
# 在云 Mac 浏览器:
1. 访问 https://file.io
2. 上传文件
3. 复制下载链接
4. 在 Windows 浏览器打开链接下载

# 注意: 链接只能下载一次!
```

---

## 🔄 最佳使用流程

### 完整操作流程:

```
1️⃣ 准备阶段 (在 Windows 上)
   ├─ 列出需要完成的任务清单
   ├─ 准备好所有需要的信息
   └─ 估算需要的时间

2️⃣ 启动服务器
   ├─ MacinCloud Dashboard → Start Server
   ├─ 等待 2-5 分钟启动
   └─ 连接到云 Mac

3️⃣ 快速操作 (集中完成所有任务)
   ├─ 生成 CSR 文件 (5分钟)
   ├─ 上传到 Apple Developer (10分钟)
   ├─ 下载证书并导出 .p12 (5分钟)
   ├─ 创建 Provisioning Profile (10分钟)
   └─ 总计: 约 30 分钟

4️⃣ 保存文件 (重要!)
   ├─ 将所有文件通过邮箱发送给自己
   ├─ 或上传到云盘
   └─ 验证文件已收到

5️⃣ 停止服务器
   ├─ Dashboard → Stop Server
   ├─ 确认停止
   └─ 验证状态变为 "Stopped"

6️⃣ 在 Windows 上继续
   ├─ 下载收到的文件
   ├─ 上传到 Appflow
   └─ 开始构建

总费用: $0.50 - $1.00 (30-60分钟)
```

---

## 📋 快速参考卡

### 启动服务器:
```
Dashboard → Start Server → 选择配置 → Start → 等待 2-5 分钟
```

### 停止服务器:
```
Dashboard → Stop Server → 确认 → 验证 Stopped 状态
```

### 保存文件:
```
邮箱发送 / 云盘上传 / File Transfer → 在 Windows 下载 → 验证文件
```

### 费用查询:
```
Dashboard → Billing → Usage History
```

### 充值:
```
Dashboard → Billing → Add Funds → 最低 $5
```

---

## 🆘 常见问题

### Q1: 忘记停止服务器怎么办?

**A**: 
```bash
1. 立即登录 Dashboard
2. 点击 Stop Server
3. 检查 Usage History 查看费用
4. 如果余额不足会自动停止
```

### Q2: 停止后文件会保留吗?

**A**: 
```bash
❌ 不会! 桌面文件会被删除
✅ 必须在停止前保存到外部
✅ 通过邮箱、云盘、或文件传输
```

### Q3: 可以暂停服务器吗?

**A**:
```bash
❌ 没有暂停功能
只有: Running (计费) 或 Stopped (不计费)
```

### Q4: 重新启动后之前的文件还在吗?

**A**:
```bash
❌ 不在! 每次启动都是全新环境
✅ 必须重新下载/创建文件
✅ 或者使用付费的 Dedicated Server (保留文件)
```

### Q5: 如何避免忘记停止?

**A**:
```bash
✅ 设置手机闹钟 (提醒 1 小时后)
✅ 列出任务清单,完成后立即停止
✅ 在日历中标记使用时间
✅ 检查余额,设置低余额提醒
```

---

## 💡 省钱小技巧

### 1. 批量操作
```
❌ 不要: 每次只做一件事,多次启动
✅ 推荐: 一次性完成所有 iOS 证书相关操作
```

### 2. 提前准备
```
✅ 在 Windows 上先准备好:
   - Apple Developer 账号信息
   - 需要填写的表单内容
   - 文件命名规则
   - 操作步骤清单
```

### 3. 使用浏览器连接
```
✅ 比 VNC 客户端更快
✅ 不需要额外软件
✅ 打开即用
```

### 4. 避免高峰时段
```
✅ 非高峰时段连接更快
✅ 节省等待时间
```

### 5. 用完立即停止
```
⚠️ 不要: 打算"一会儿再用"就不停止
✅ 推荐: 停止后需要时再启动 (2分钟)
   → 节省的费用 > 重启的麻烦
```

---

## 📊 使用时间记录表

建议记录每次使用:

```
═══════════════════════════════════════════════════
          MacinCloud 使用记录
═══════════════════════════════════════════════════

日期: 2025-10-24
启动时间: 14:30
停止时间: 15:15
使用时长: 45 分钟
费用: $0.75

完成任务:
□ 生成 CSR 文件
□ 上传到 Apple Developer
□ 下载证书
□ 导出 .p12
□ 创建 Provisioning Profile
□ 保存所有文件到邮箱

文件清单:
✅ ios_certificate.p12
✅ XWallet_AdHoc_Profile.mobileprovision
✅ CertificateSigningRequest.certSigningRequest

下次需要: [留空 / 续期证书 / 添加设备]

═══════════════════════════════════════════════════
```

---

## 🎯 总结

### ✅ 记住这些:

1. **用完必停** - 避免持续扣费
2. **文件必存** - 停止前保存到外部
3. **批量操作** - 一次完成所有任务
4. **验证状态** - 确认 "Stopped" 状态

### ⚠️ 关键提醒:

```
只要服务器显示 🟢 Running
→ 就在计费 $1/小时
→ 即使没有连接也计费
→ 必须手动停止!
```

---

**现在您知道如何管理 MacinCloud 了!** 🎉

需要我帮您:
1. 准备使用 MacinCloud 的任务清单?
2. 计算需要多少时间?
3. 创建操作步骤检查表?

告诉我! 😊
